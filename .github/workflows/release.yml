name: release
on:
  push:
    branches:
    - release*
    tags:
    - v*

jobs:
  release:
    uses: langston-barrett/gha/.github/workflows/rust-release.yml@7c7aa9e85a8127465f4f57ecbf940744c74584ac
    with:
      publish: ${{ startsWith(github.ref, 'refs/tags/v') }}
    secrets:
      crates-io-token: ${{ secrets.CRATES_IO_TOKEN }}
    permissions:
      contents: write
